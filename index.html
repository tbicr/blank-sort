<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>FindDistrict</title>
    <!-- CSS only -->
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">

<!-- JS, Popper.js, and jQuery -->
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/gh/xcash/bootstrap-autocomplete@v2.3.5/dist/latest/bootstrap-autocomplete.min.js"></script>

</head>
<body>
<div class="container">
    <form id="line1" class="card p-2">
        <div class="input-group">
            <input type="text" class="form-control vobl" placeholder="Вобласьць" autocomplete="off">
            <input type="text" class="form-control rajon" placeholder="Раён" autocomplete="off">
        </div>
        <div class="input-group">
            <input type="text" class="form-control miesta" placeholder="Горад ці вёска" autocomplete="off" required>
            <input type="text" class="form-control vulica" placeholder="Вуліца" autocomplete="off" required>
            <input type="text" class="form-control dom" placeholder="Дом" autocomplete="off" required>
            <button type="button" class="btn btn-secondary">Знайсьці</button>
        </div>
        <div class="container alert" role="alert"></div>
    </form>
    <form id="line2" class="card p-2">
        <div class="input-group">
            <input type="text" class="form-control vobl" placeholder="Вобласьць" autocomplete="off">
            <input type="text" class="form-control rajon" placeholder="Раён" autocomplete="off">
        </div>
        <div class="input-group">
            <input type="text" class="form-control miesta" placeholder="Горад ці вёска" autocomplete="off" required>
            <input type="text" class="form-control vulica" placeholder="Вуліца" autocomplete="off" required>
            <input type="text" class="form-control dom" placeholder="Дом" autocomplete="off" required>
            <button type="button" class="btn btn-secondary">Знайсьці</button>
        </div>
        <div class="container alert" role="alert"></div>
    </form>
    <form id="line3" class="card p-2">
        <div class="input-group">
            <input type="text" class="form-control vobl" placeholder="Вобласьць" autocomplete="off">
            <input type="text" class="form-control rajon" placeholder="Раён" autocomplete="off">
        </div>
        <div class="input-group">
            <input type="text" class="form-control miesta" placeholder="Горад ці вёска" autocomplete="off" required>
            <input type="text" class="form-control vulica" placeholder="Вуліца" autocomplete="off" required>
            <input type="text" class="form-control dom" placeholder="Дом" autocomplete="off" required>
            <button type="button" class="btn btn-secondary">Знайсьці</button>
        </div>
        <div class="container alert" role="alert"></div>
    </form>
    <form id="line4" class="card p-2">
        <div class="input-group">
            <input type="text" class="form-control vobl" placeholder="Вобласьць" autocomplete="off">
            <input type="text" class="form-control rajon" placeholder="Раён" autocomplete="off">
        </div>
        <div class="input-group">
            <input type="text" class="form-control miesta" placeholder="Горад ці вёска" autocomplete="off" required>
            <input type="text" class="form-control vulica" placeholder="Вуліца" autocomplete="off" required>
            <input type="text" class="form-control dom" placeholder="Дом" autocomplete="off" required>
            <button type="button" class="btn btn-secondary">Знайсьці</button>
        </div>
        <div class="container alert" role="alert"></div>
    </form>
    <form id="line5" class="card p-2">
        <div class="input-group">
            <input type="text" class="form-control vobl" placeholder="Вобласьць" autocomplete="off">
            <input type="text" class="form-control rajon" placeholder="Раён" autocomplete="off">
        </div>
        <div class="input-group">
            <input type="text" class="form-control miesta" placeholder="Горад ці вёска" autocomplete="off" required>
            <input type="text" class="form-control vulica" placeholder="Вуліца" autocomplete="off" required>
            <input type="text" class="form-control dom" placeholder="Дом" autocomplete="off" required>
            <button type="button" class="btn btn-secondary">Знайсьці</button>
        </div>
        <div class="container alert" role="alert"></div>
    </form>
    <button id="reset" type="button" class="btn btn-primary">Скінуць</button>
</div>
<script>
var vobl = [
    'Брестская область',
    'Витебская область',
    'Гомельская область',
    'Гродненская область',
    'Минская область',
    'Могилёвская область',
];

var rajon = [
    'Барановичский район',
    'Белыничский район',
    'Березинский район',
    'Берестовицкий район',
    'Берёзовский район',
    'Бешенковичский район',
    'Бобруйский район',
    'Борисовский район',
    'Брагинский район',
    'Браславский район',
    'Брестский район',
    'Буда-Кошелёвский район',
    'Быховский район',
    'Верхнедвинский район',
    'Ветковский район',
    'Вилейский район',
    'Витебский район',
    'Волковысский район',
    'Воложинский район',
    'Вороновский район',
    'Ганцевичский район',
    'Глубокский район',
    'Глусский район',
    'Гомельский район',
    'Горецкий район',
    'Городокский район',
    'Гродненский район',
    'Дзержинский район',
    'Добрушский район',
    'Докшицкий район',
    'Дрибинский район',
    'Дрогичинский район',
    'Дубровенский район',
    'Дятловский район',
    'Ельский район',
    'Жабинковский район',
    'Житковичский район',
    'Жлобинский район',
    'Зельвенский район',
    'Ивановский район',
    'Ивацевичский район',
    'Ивьевский район',
    'Калинковичский район',
    'Каменецкий район',
    'Кировский район',
    'Клецкий район',
    'Климовичский район',
    'Кличевский район',
    'Кобринский район',
    'Копыльский район',
    'Кореличский район',
    'Кормянский район',
    'Костюковичский район',
    'Краснопольский район',
    'Кричевский район',
    'Круглянский район',
    'Крупский район',
    'Лельчицкий район',
    'Лепельский район',
    'Лидский район',
    'Лиозненский район',
    'Логойский район',
    'Лоевский район',
    'Лунинецкий район',
    'Любанский район',
    'Ляховичский район',
    'Малоритский район',
    'Минский район',
    'Миорский район',
    'Могилёвский район',
    'Мозырский район',
    'Молодечненский район',
    'Мостовский район',
    'Мстиславский район',
    'Мядельский район',
    'Наровлянский район',
    'Несвижский район',
    'Новогрудский район',
    'Октябрьский район',
    'Оршанский район',
    'Осиповичский район',
    'Островецкий район',
    'Ошмянский район',
    'Петриковский район',
    'Пинский район',
    'Полоцкий район',
    'Поставский район',
    'Пружанский район',
    'Пуховичский район',
    'Речицкий район',
    'Рогачёвский район',
    'Россонский район',
    'Светлогорский район',
    'Свислочский район',
    'Сенненский район',
    'Славгородский район',
    'Слонимский район',
    'Слуцкий район',
    'Смолевичский район',
    'Сморгонский район',
    'Солигорский район',
    'Стародорожский район',
    'Столбцовский район',
    'Столинский район',
    'Толочинский район',
    'Узденский район',
    'Ушачский район',
    'Хойникский район',
    'Хотимский район',
    'Чаусский район',
    'Чашникский район',
    'Червенский район',
    'Чериковский район',
    'Чечерский район',
    'Шарковщинский район',
    'Шкловский район',
    'Шумилинский район',
    'Щучинский район'
];


/*
COPY (
SELECT DISTINCT name FROM (
    SELECT unnest(ARRAY[g.tags->'name', g.tags->'name:ru']) AS name
    FROM planet_osm_polygon b
    INNER JOIN planet_osm_polygon g ON ST_Intersects(g.way, b.way)
    WHERE b.osm_id = -59065
    AND g.tags->'place' IN ('city', 'town', 'vilage', 'hamlet', 'isolated_dwelling', 'allotments', 'farm')

    UNION

    SELECT unnest(ARRAY[g.tags->'name', g.tags->'name:ru']) AS name
    FROM planet_osm_polygon b
    INNER JOIN planet_osm_point g ON ST_Intersects(g.way, b.way)
    WHERE b.osm_id = -59065
    AND g.tags->'place' IN ('city', 'town', 'vilage', 'hamlet', 'isolated_dwelling', 'allotments', 'farm')
) x
WHERE name IS NOT NULL
ORDER BY name
) TO STDOUT

 */
var miesty = [
];

/*
COPY (
SELECT DISTINCT name FROM (
    SELECT g.tags->'addr:street' AS name
    FROM planet_osm_polygon b
    INNER JOIN planet_osm_polygon g ON ST_Intersects(g.way, b.way)
    WHERE b.osm_id = -59065
    AND g.tags ? 'addr:street'

    UNION

    SELECT g.tags->'addr:street' AS name
    FROM planet_osm_polygon b
    INNER JOIN planet_osm_point g ON ST_Intersects(g.way, b.way)
    WHERE b.osm_id = -59065
    AND g.tags ? 'addr:street'
) x
WHERE name IS NOT NULL
ORDER BY name
) TO STDOUT

 */

var vulicy = [
];

var division = {
    // Менск
    'Минск, Заводской район': ['Р-1', 'Минск', 'Заводской'],
    'Минск, Ленинский район': ['Р-2', 'Минск', 'Ленинский'],
    'Минск, Московский район': ['Р-3', 'Минск', 'Московский'],
    'Минск, Октябрьский район': ['Р-4', 'Минск', 'Октябрьский'],
    'Минск, Партизанский район': ['Р-5', 'Минск', 'Партизанский'],
    'Минск, Первомайский район': ['Р-6', 'Минск', 'Первомайский'],
    'Минск, Советский район': ['Р-7', 'Минск', 'Советский'],
    'Минск, Фрунзенский район': ['Р-8', 'Минск', 'Фрунзенский'],
    'Минск, Центральный район': ['Р-9', 'Минск', 'Центральный'],

    // Раённыя ў местах
    'Брестская область, Брест, Ленинский район': ['Р-10', 'Брест', 'Ленинский'],
    'Брестская область, Брест, Московский район': ['Р-11', 'Брест', 'Московский'],

    'Могилёвская область, Бобруйск, Первомайский район': ['Р-12', 'Бобруйск', 'Первомайский'],
    'Могилёвская область, Бобруйск, Ленинский район': ['Р-13', 'Бобруйск', 'Ленинский'],

    'Витебская область, Витебск, Железнодорожный район': ['Р-14', 'Витебск', 'Железнодороный'],
    'Витебская область, Витебск, Октябрьский район': ['Р-15', 'Витебск', 'Октябрьский'],
    'Витебская область, Витебск, Первомайский район': ['Р-16', 'Витебск', 'Первомайский'],

    'Гомельская область, Гомель, Новобелицкий район': ['Р-17', 'Гомель', 'Новобелицкий'],
    'Гомельская область, Гомель, Советский район': ['Р-18', 'Гомель', 'Советский'],
    'Гомельская область, Гомель, Железнодорожный район': ['Р-19', 'Гомель', 'Железнодорожный'],
    'Гомельская область, Гомель, Центральный район': ['Р-20', 'Гомель', 'Центральный'],

    'Гродненская область, Гродно, Ленинский район': ['Р-21', 'Гродно', 'Ленинский'],
    'Гродненская область, Гродно, Октябрьский район': ['Р-22', 'Гродно', 'Октябрьский'],

    'Могилёвская область, Могилёв, Октябрьский район': ['Р-23', 'Могилёв', 'Октябрьский'],
    'Могилёвская область, Могилёв, Ленинский район': ['Р-24', 'Могилёв', 'Ленинский'],

    // Менская вобласьць
    'Минская область, Березинский район': ['Р-25', 'Березино', 'Березинский'],
    'Минская область, Борисовский район': ['Р-26', 'Борисов', 'Борисовский'],
    'Минская область, Вилейский район': ['Р-27', 'Вилейка', 'Вилейский'],
    'Минская область, Воложинский район': ['Р-28', 'Воложин', 'Воложинский'],
    'Минская область, Дзержинский район': ['Р-29', 'Дзержинск', 'Дзержинский'],
    'Минская область, Жодино': ['Р-30', 'Жодино', 'Городская'],  // miastovy
    'Минская область, Клецкий район': ['Р-31', 'Клецк', 'Клецкий'],
    'Минская область, Копыльский район': ['Р-32', 'Копыль', 'Копыльский'],
    'Минская область, Крупский район': ['Р-33', 'Крупки', 'Крупский'],
    'Минская область, Логойский район': ['Р-34', 'Логойск', 'Логойский'],
    'Минская область, Любанский район': ['Р-35', 'Любань', 'Любанский'],
    'Минская область, Молодечненский район': ['Р-36', 'Молодечно', 'Молодечненский'],
    'Минская область, Мядельский район': ['Р-37', 'Мядель', 'Мядельский'],
    'Минская область, Несвижский район': ['Р-38', 'Несвиж', 'Несвижский'],
    'Минская область, Пуховичский район': ['Р-39', 'Пуховичи', 'Пуховичский'],
    'Минская область, Слуцкий район': ['Р-40', 'Слуцк', 'Слуцкий'],
    'Минская область, Смолевичский район': ['Р-41', 'Смолевичи', 'Смолевичский'],
    'Минская область, Солигорский район': ['Р-42', 'Солигорск', 'Солигорский'],
    'Минская область, Стародорожский район': ['Р-43', 'Старые Дороги', 'Стародорожский'],
    'Минская область, Столбцовский район': ['Р-44', 'Столбцы', 'Столбцовский'],
    'Минская область, Узденский район': ['Р-45', 'Узда', 'Узденский'],
    'Минская область, Червенский район': ['Р-46', 'Червень', 'Червенский'],

    // Берасьцейская вобласьць
    'Брестская область, Барановичи': ['Р-47', 'Барановичи', 'Городская'],  // miastovy
    'Брестская область, Барановичский район': ['Р-48', 'Барановичи', 'Барановичский'],
    'Брестская область, Берёзовский район': ['Р-49', 'Берёза', 'Березовский'],
    'Брестская область, Ганцевичский район': ['Р-50', 'Ганцевичи', 'Ганцевичский'],
    'Брестская область, Дрогичинский район': ['Р-51', 'Дрогичин', 'Дрогичинский'],
    'Брестская область, Жабинковский район': ['Р-52', 'Жабинка', 'Жабинковский'],
    'Брестская область, Ивановский район': ['Р-53', 'Иваново', 'Ивановский'],
    'Брестская область, Ивацевичский район': ['Р-54', 'Ивацевичи', 'Ивацевичский'],
    'Брестская область, Каменецкий район': ['Р-55', 'Каменец', 'Каменецкий'],
    'Брестская область, Кобринский район': ['Р-56', 'Кобрин', 'Кобринский'],
    'Брестская область, Лунинецкий район': ['Р-57', 'Лунинец', 'Лунинецкий'],
    'Брестская область, Ляховичский район': ['Р-58', 'Ляховичи', 'Ляховичский'],
    'Брестская область, Малоритский район': ['Р-59', 'Малорита', 'Малоритский'],
    'Брестская область, Пинск': ['Р-60', 'Пинск', 'Городская'],    // miastovy
    'Брестская область, Пинский район': ['Р-61', '', 'Пинский'],
    'Брестская область, Пружанский район': ['Р-62', 'Пружаны', 'Пружанский'],
    'Брестская область, Столинский район': ['Р-63', 'Столин', 'Столинский'],

    // Віцебская вобласьць
    'Витебская область, Бешенковичский район': ['Р-64', 'Бешенковичи', 'Бешенковичская'],
    'Витебская область, Браславский район': ['Р-65', 'Браслав', 'Браславский'],
    'Витебская область, Верхнедвинский район': ['Р-66', 'Верхнедвинск', 'Верхнедвинская'],
    'Витебская область, Глубокский район': ['Р-67', 'Глубокое', 'Глубокский'],
    'Витебская область, Городокский район': ['Р-68', 'Городок', 'Городокская'],
    'Витебская область, Докшицкий район': ['Р-69', 'Докшицы', 'Докшицкая'],
    'Витебская область, Дубровенский район': ['Р-70', 'Дубровно', 'Дубровенская'],
    'Витебская область, Лепельский район': ['Р-71', 'Лепель', 'Лепельская'],
    'Витебская область, Лиозненский район': ['Р-72', 'Лиозно', 'Лиозненский'],
    'Витебская область, Миорский район': ['Р-73', 'Миоры', 'Миорский'],
    'Витебская область, Новополоцк': ['Р-74', 'Новополоцк', 'Городская'],  // miastovy
    'Витебская область, Оршанский район': ['Р-75', 'Орша', 'Оршанская'],
    'Витебская область, Полоцкий район': ['Р-76', 'Полоцк', 'Полоцкая'],
    'Витебская область, Поставский район': ['Р-77', 'Поставы', 'Поставский'],
    'Витебская область, Россонский район': ['Р-78', 'Россоны', 'Россонский'],
    'Витебская область, Сенненский район': ['Р-79', 'Сенно', 'Сенненский'],
    'Витебская область, Толочинский район': ['Р-80', 'Толочин', 'Толочинская'],
    'Витебская область, Ушачский район': ['Р-81', 'Ушачи', 'Ушачский'],
    'Витебская область, Чашникский район': ['Р-82', 'Чашники', 'Чашникская'],
    'Витебская область, Шарковщинский район': ['Р-83', 'Шарковщина', 'Шарковщинский'],
    'Витебская область, Шумилинский район': ['Р-84', 'Шумилино', 'Шумилинский'],

    // Гомельская вобласьць
    'Гомельская область, Брагинский район': ['Р-85', 'Брагин', 'Брагинский'],
    'Гомельская область, Буда-Кошелёвский район': ['Р-86', 'Буда-Кошелево', 'Буда-Кошелевский'],
    'Гомельская область, Ветковский район': ['Р-87', 'Ветка', 'Ветковский'],
    'Гомельская область, Добрушский район': ['Р-88', 'Добруш', 'Добрушский'],
    'Гомельская область, Ельский район': ['Р-89', 'Ельск', 'Ельский'],
    'Гомельская область, Житковичский район': ['Р-90', 'Житковичи', 'Житковичский'],
    'Гомельская область, Жлобинский район': ['Р-91', 'Жлобин', 'Жлобинский'],
    'Гомельская область, Калинковичский район': ['Р-92', 'Калинковичи', 'Калинковичский'],
    'Гомельская область, Кормянский район': ['Р-93', 'Корма', 'Кормянский'],
    'Гомельская область, Лельчицкий район': ['Р-94', 'Лельчицы', 'Лельчицкий'],
    'Гомельская область, Лоевский район': ['Р-95', 'Лоев', 'Лоевский'],
    'Гомельская область, Мозырский район': ['Р-96', 'Мозырь', 'Мозырский'],
    'Гомельская область, Наровлянский район': ['Р-97', 'Наровля', 'Наровлянский'],
    'Гомельская область, Октябрьский район': ['Р-98', 'Октябрьский', 'Октябрьский'],
    'Гомельская область, Петриковский район': ['Р-90', 'Петриков', 'Петриковский'],
    'Гомельская область, Речицкий район': ['Р-100', 'Речица', 'Речицкий'],
    'Гомельская область, Рогачёвский район': ['Р-101', 'Рогачев', 'Рогачевский'],
    'Гомельская область, Светлогорский район': ['Р-102', 'Светлогорск', 'Светлогорский'],
    'Гомельская область, Хойникский район': ['Р-103', 'Хойники', 'Хойникский'],
    'Гомельская область, Чечерский район': ['Р-104', 'Чечерск', 'Чечерский'],

    // Гарадзенская вобласьць
    'Гродненская область, Берестовицкий район': ['Р-105', 'Большая Берестовица', 'Берестовицкий'],
    'Гродненская область, Волковысский район': ['Р-106', 'Волковыск', 'Волковысский'],
    'Гродненская область, Вороновский район': ['Р-107', 'Вороново', 'Вороновский'],
    'Гродненская область, Дятловский район': ['Р-108', 'Дятлово', 'Дятловский'],
    'Гродненская область, Зельвенский район': ['Р-109', 'Зельва', 'Зельвенский'],
    'Гродненская область, Ивьевский район': ['Р-110', 'Ивье', 'Ивьевский'],
    'Гродненская область, Кореличский район': ['Р-111', 'Кореличи', 'Кореличский'],
    'Гродненская область, Лидский район': ['Р-112', 'Лида', 'Лидский'],
    'Гродненская область, Мостовский район': ['Р-113', 'Мосты', 'Мостовский'],
    'Гродненская область, Новогрудский район':  ['Р-114', 'Новогрудок', 'Новогрудский'],
    'Гродненская область, Островецкий район': ['Р-115', 'Островец', 'Островецкий'],
    'Гродненская область, Ошмянский район': ['Р-116', 'Ошмяны', 'Ошмянский'],
    'Гродненская область, Свислочский район': ['Р-117', 'Свислочь', 'Свислочский'],
    'Гродненская область, Слонимский район': ['Р-118', 'Слоним', 'Слонимский'],
    'Гродненская область, Сморгонский район': ['Р-119', 'Сморгонь', 'Сморгонский'],
    'Гродненская область, Щучинский район': ['Р-120', 'Щучин', 'Щучинский'],

    // Магілёўская вобласьць
    'Могилёвская область, Белыничский район': ['Р-121', 'Белыничи', 'Белыничский'],
    'Могилёвская область, Бобруйский район': ['Р-122', '', 'Бобруйский'],
    'Могилёвская область, Быховский район': ['Р-123', 'Быхов', 'Быховский'],
    'Могилёвская область, Глусский район': ['Р-124', 'Глусск', 'Глусский'],
    'Могилёвская область, Горецкий район': ['Р-125', 'Горки', 'Горецкий'],
    'Могилёвская область, Дрибинский район': ['Р-126', 'Дрибин', 'Дрибинский'],
    'Могилёвская область, Кировский район': ['Р-127', 'Кировск', 'Кировский'],
    'Могилёвская область, Климовичский район': ['Р-128', 'Климовичи', 'Климовичский '],
    'Могилёвская область, Кличевский район': ['Р-129', 'Кличев', 'Кличевский'],
    'Могилёвская область, Костюковичский район': ['Р-130', 'Костюковичи', 'Костюковичский '],
    'Могилёвская область, Краснопольский район': ['Р-131', 'Краснополье', 'Краснопольский'],
    'Могилёвская область, Кричевский район': ['Р-132', 'Кричев', 'Кричевский'],
    'Могилёвская область, Круглянский район': ['Р-133', 'Круглое', 'Круглянский'],
    'Могилёвская область, Мстиславский район': ['Р-134', 'Мстиславль', 'Мстиславский'],
    'Могилёвская область, Осиповичский район': ['Р-135', 'Осиповичи', 'Осиповичский'],
    'Могилёвская область, Славгородский район': ['Р-136', 'Славгород', 'Славгородский'],
    'Могилёвская область, Хотимский район': ['Р-137', 'Хотимск', 'Хотимский'],
    'Могилёвская область, Чаусский район': ['Р-138', 'Чаусы', 'Чаусский '],
    'Могилёвская область, Чериковский район': ['Р-139', 'Чериков', 'Чериковский'],
    'Могилёвская область, Шкловский район': ['Р-140', 'Шклов', 'Шкловский'],

    // Раённыя ў абласных гарадох
    'Минская область, Минский район': ['Р-141', '', 'Минский'],
    'Брестская область, Брестский район': ['Р-142', '', 'Брестский'],
    'Витебская область, Витебский район': ['Р-143', '', 'Витебский'],
    'Гомельская область, Гомельский район': ['Р-144', '', 'Гомельский'],
    'Гродненская область, Гродненский район': ['Р-145', '', 'Гродненский'],
    'Могилёвская область, Могилёвский район': ['Р-146', '', 'Могилевский'],
};

$('.vobl').autoComplete({
    minLength: 1,
    resolver: 'custom',
    events: {
        search: function (qry, callback, origJQElement) {
            callback(vobl.filter(function (item) {
                return item.toLowerCase().includes(qry.toLowerCase())
            }));
        }
    }
});
$('.rajon').autoComplete({
    minLength: 1,
    resolver: 'custom',
    events: {
        search: function (qry, callback, origJQElement) {
            callback(rajon.filter(function (item) {
                return item.toLowerCase().includes(qry.toLowerCase())
            }));
        }
    }
});
// $('.miesta').autoComplete({
//     minLength: 1,
//     resolver: 'custom',
//     events: {
//         search: function (qry, callback, origJQElement) {
//             callback(miesty.filter(function (item) {
//                 return item.toLowerCase().includes(qry.toLowerCase())
//             }));
//         }
//     }
// });
// $('.vulica').autoComplete({
//     minLength: 1,
//     resolver: 'custom',
//     events: {
//         search: function (qry, callback, origJQElement) {
//             callback(vulicy.filter(function (item) {
//                 return item.toLowerCase().includes(qry.toLowerCase())
//             }));
//         }
//     }
// });

function getNumNominatium(item) {
    var parts;
    if (item.address.city_district) {
        parts = [
            item.address.state,
            item.address.county,
            item.address.city,
            item.address.city_district
        ]
    } else if (!item.address.county) {
        parts = [
            item.address.state,
            item.address.city || item.address.town
        ]
    } else {
        parts = [
            item.address.state,
            item.address.county
        ]
    }
    var sparts = parts.filter(part => part).join(', ');
    var div = division[sparts];
    if (!div) {
        div = ['UNKNOWN', '', 'UNKNOWN'];
    }
    return {parts: [div[1], div[2]].filter(item => item).join(', '), num: div[0]};
}

var lines = ['line1', 'line2', 'line3', 'line4', 'line5'];
for (var line of lines) {
    (function (line) {
        line = '#' + line;
        function search() {
            var country = 'Беларусь';
            var vobl = $(line + ' .vobl').val();
            var rajon = $(line + ' .rajon').val();
            var miesta = $(line + ' .miesta').val();
            var vulica = $(line + ' .vulica').val();
            var dom = $(line + ' .dom').val();
            fetch(
                'https://nominatim.openstreetmap.org/search.php' +
                '?street=' + vulica + ' ' + dom +
                '&city=' + miesta +
                '&county=' + rajon +
                '&state=' + vobl +
                '&country=' + country +
                '&format=json' +
                '&addressdetails=1' +
                '&accept-language=ru',
            ).then(response => response.json()).then(function (data) {
                console.log(data);
                var html = '';
                data.map(item => html += '' +
                    '<div class="row">' +
                    '    <div class="col-8">' +
                    item.display_name +
                    '    </div>' +
                    '    <div class="col-3">' +
                    '<b>' + getNumNominatium(item).parts + '</b>' +
                    '    </div>' +
                    '    <div class="col-1">' +
                    '<b>' + getNumNominatium(item).num + '</b>' +
                    '    </div>' +
                    '  </div>'
                );
                $(line + ' .alert').html(html);
                if (data.length == 1) {
                    $(line + ' .alert').addClass('alert-success');
                } else {
                    $(line + ' .alert').addClass('alert-warning');
                }
            })
        }
        $(line + ' button').on('click', search);
        $(line + ' input').on('keypress', function (e) {
            if(e.which == 13) {
                search();
            }
        });
    })(line);
}

$('#reset').on('click', function () {
    $('input').val('');
    $('.alert').removeClass('alert-success').removeClass('alert-warning').html('');
});


</script>
</body>
</html>